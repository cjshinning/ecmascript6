<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>9.数组的扩展</title>
</head>
<body>
    <script>
        // console.log(...[1,2,3]);    //1 2 3
        // console.log(1,...[2,3,4],5);//1 2 3 4 5

        // function push(array, ...items){
        //     array.push(...items);
        // }

        // function add(x, y){
        //     return x + y;
        // }

        // const numbers = [4,38];
        // console.log(add(...numbers));   //42

        // ES5
        // function f(x,y,z){
        //     console.log(x);
        //     console.log(y);
        //     console.log(z);
        // }   
        // var args = [0,1,2];
        // f.apply(null, args);

        // ES6
        // function f(x,y,z){
        //     console.log(x);
        //     console.log(y);
        //     console.log(z);
        // }
        // let args = [0,1,2];
        // f(...args);
            
        // 扩展运算符的应用
        // （1）复制数组
        // const a1 = [1,2];
        // const a2 = a1;

        // a2[0] = 2;
        // console.log(a1);    // [2, 2]
        // a2并不是a1的克隆，而是指向同一份数据的另一个指针。修改a2，会直接导致a1的变化

        // ES5复制
        // const a1 = [1,2];
        // const a2 = a1.concat();

        // a2[0] = 2;
        // console.log(a1);    //[1, 2]
        // a1会返回原数组的克隆，在修改a2就不会对a1产生影响

        // ES6
        // const a1 = [1,2]; 
        // // 写法一
        // const a2 = [...a1];
        // // 写法二
        // const [...a3] = a1;
        // console.log(a2);    //[1, 2]
        // console.log(a3);    //[1, 2]

        // (2)合并数组
        // const arr1 = ['a', 'b'];
        // const arr2 = ['c'];
        // const arr3 = ['d', 'e'];
        
        // ES5
        // console.log(arr1.concat(arr2, arr3));   //["a", "b", "c", "d", "e"]

        // ES6
        // console.log([...arr1, ...arr2, ...arr3]);   //["a", "b", "c", "d", "e"]

        // 上述方法是浅拷贝

        // const a1 = [{foo: 1}];
        // const a2 = [{bar: 2}];

        // const a3 = a1.concat(a2);
        // const a4 = [...a1, ...a2];

        // console.log(a3[0] === a1[0]);   //true
        // console.log(a4[0] === a1[0]);   //true

        // （4）字符串
        // console.log([...'hello']);  //["h", "e", "l", "l", "o"]

        // let map = new Map([
        //     [1, 'one'],
        //     [2, 'two'],
        //     [3, 'three']
        // ])

        // let arr = [...map.keys()];
        // console.log(arr);   //[1, 2, 3]

        // 2.Array.from()
        // Array.from方法用于将两类对象转为真正的数组：类似数组的对象（array-like）和可遍历（iterable）的对象
        // let arrayLike = {
        //     '0': 'a',
        //     '1': 'b',
        //     '2': 'c',
        //     length: 3
        // }

        // // ES5的写法
        // var arr1 = [].slice.call(arrayLike);
        // console.log(arr1);  //["a", "b", "c"]

        // // ES6的写法
        // let arr2 = Array.from(arrayLike);
        // console.log(arr2);  //["a", "b", "c"]

        // 3.Array.of()
        // console.log(Array.of(3, 11, 8));    //[3, 11, 8]
        // console.log(Array.of(3));   //[3]
        // console.log(Array.of(3).length);    //1

        // 4.数组实例的copyWithin()
        // console.log([1,2,3,4,5].copyWithin(0,3));   //[4, 5, 3, 4, 5]

        // console.log([1,2,3,4,5].copyWithin(0,3,4));     //[4, 2, 3, 4, 5]

        // 5.数组实例的find()和findIndex()
        // console.log([1,4,-5,10].find((n)=>n<0));    //-5

        // console.log([1,5,10,15].find(function(value,index,arr){
        //     return value > 9;
        // }));    //10

        // console.log([1,5,10,15].findIndex(function(value,index,arr){
        //     return value > 9;
        // }));    //2

        // 6.数组的实例fill()
        // fill方法使用给定值，填充一个数组
        // console.log(['a', 'b', 'c'].fill(7));   //[7, 7, 7]
            
        // console.log(new Array(3).fill(7));

        // 7.数组实例的entries(),keys(),values()

        // for(let index of ['a', 'b'].keys()){
        //     console.log(index); //0,1
        // }

        // for(let elem of ['a', 'b'].values()){
        //     console.log(elem);  //a,b
        // }

        // 8.数组实例的includes()
        // Array.prototype.includes方法返回一个布尔值，表示某个数组是否包含给定的值，与字符串类似
        // console.log([1,2,3].includes(2));   //true
        // console.log([1,2,3].includes(4));   //false
        // console.log([1,2,NaN].includes(NaN));   //true

        // 9.数组实例的flat(),flatMap()
        // console.log([1,2,[3,4]].flat()) //[1, 2, 3, 4]

        // console.log([1,2,[3,[4,5]]].flat()) //1, 2, 3, [4, 5]]
        // console.log([1,2,[3,[4,5]]].flat(2)) //[1, 2, 3, 4, 5]

        console.log([1,[2,[3]]].flat(Infinity));    //[1, 2, 3]
    </script>
</body>
</html>